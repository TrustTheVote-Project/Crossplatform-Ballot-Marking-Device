<ion-header *ngIf="election.ready">
   <ion-toolbar>
      <div class='center-button'>
         <ion-button outline (click)=settings($event) translate>
            <ion-icon name="cog-outline"></ion-icon>SETTINGS</ion-button>
         <ion-button outline (click)=help($event) translate>
            <ion-icon name="help-outline"></ion-icon>
            HELP
         </ion-button>
         <ion-button outline (click)=voteReview($event) translate>REVIEW_YOUR_VOTES</ion-button>
      </div>
   </ion-toolbar>
</ion-header>

<ion-content>
   <div *ngIf="!election.ready">
      <ion-spinner name="bubbles"></ion-spinner>
      <ion-label>Loading...</ion-label>

   </div>

   <div *ngIf="election.ready">

      <ion-slides  #mySlider [options]="sliderConfig">
         <ion-slide *ngFor="let item of election.contests">
            <br>
            <br>
            <div >
               <ion-label >{{item.contestName}}</ion-label>
               <br>
               <ion-label float=left slot="start" translate>
                  VOTE_FOR</ion-label>
               <ion-label>{{item.getVotesAllowed()}}
               </ion-label>
               <br>
               <ion-label float=right slot="end">{{item.statusMessage1}}</ion-label>
               <ion-label color="danger" slot="end">{{item.statusMessage2}}</ion-label>
               <ion-label slot="end">{{item.statusMessage3}}</ion-label>
               <br>
               <br>
               <ion-list no-line>
                  <div *ngFor="let ballotSelection of item.ballotSelections">
                     <div *ngFor="let candidateName of ballotSelection.candidates">
                        <ion-row no-line>
                           <ion-item text-wrap no-line item-start>
                              <ion-checkbox 
                                     [(ngModel)]="ballotSelection.selected" (ionChange)="item.ionChangeUpdateCheckbox($event)"></ion-checkbox>
                              <ion-label no-line>{{candidateName.personName}} {{candidateName.partyAbbreviation}}</ion-label>
                           </ion-item>
                        </ion-row>
                     </div>
                  </div>
               </ion-list>
            </div>
         </ion-slide>
      </ion-slides>
      <ion-footer>
         <ion-toolbar>
            <div class="center-button">
               <div>
                  <ion-button slot="start" outline (click)=slidePrevious() translate>PREVIOUS
                     <ion-icon slot="start" name="arrow-undo-outline"></ion-icon>
                  </ion-button>

                  <ion-label style=" padding: 20px;">{{currentContest}}/{{election.contests.length+1}}</ion-label>
                  <ion-button slot="end" outline (click)=slideNext() translate>
                     NEXT
                     <ion-icon slot="end" name="arrow-redo-outline"></ion-icon>
                  </ion-button>
               </div>
            </div>
         </ion-toolbar>
      </ion-footer>
   </div>
   <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
   <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</ion-content>
